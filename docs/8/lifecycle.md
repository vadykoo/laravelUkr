# Запит життєвого циклу

[comment]: <> (-   [Вступ]&#40;#introduction&#41;)

[comment]: <> (-   [Огляд життєвого циклу]&#40;#lifecycle-overview&#41;)

[comment]: <> (-   [Зосередьтеся на постачальниках послуг]&#40;#focus-on-service-providers&#41;)

<a name="introduction"></a>

## Вступ

Використовуючи будь-який інструмент у "реальному світі", ви почуваєтесь більш впевнено, якщо розумієте, як цей інструмент працює. Розробка додатків нічим не відрізняється. Коли ви розумієте, як функціонують ваші засоби розробки, ви почуваєтесь більш комфортно та впевнено в їх використанні.

Мета цього документа - дати вам хороший огляд на високому рівні того, як працює фреймворк Laravel. Завдяки кращому знайомству із загальною структурою все стає менш «чарівним», і ви будете більш впевнено будувати свої програми. Якщо ви не зрозуміли всіх термінів відразу, не падайте духом! Просто спробуйте отримати базове уявлення про те, що відбувається, і ваші знання будуть зростати в міру вивчення інших розділів документації.

<a name="lifecycle-overview"></a>

## Огляд життєвого циклу

<a name="first-things"></a>

### Перші речі

Точкою входу для всіх запитів до програми Laravel є`public/index.php`файл. Усі запити спрямовуються на цей файл за допомогою конфігурації вашого веб-сервера (Apache / Nginx).`index.php`файл не містить багато коду. Швидше, це відправна точка для завантаження решти фреймворку.

`index.php`файл завантажує згенероване композитором визначення автозавантажувача, а потім отримує екземпляр програми Laravel з`bootstrap/app.php`. Перша дія, яку вживає сам Laravel - це створення екземпляра програми /[службовий контейнер](/docs/{{version}}/container).

<a name="http-console-kernels"></a>

### Ядра HTTP / консолі

Далі вхідний запит надсилається або ядру HTTP, або ядру консолі, залежно від типу запиту, який надходить у програму. Ці два ядра служать центральним місцем, через яке проходять усі запити. Наразі зосередимося лише на ядрі HTTP, яке знаходиться в`app/Http/Kernel.php`.

Ядро HTTP розширює`Illuminate\Foundation\Http\Kernel`клас, який визначає масив`bootstrappers`що буде запущено до виконання запиту. Ці завантажувачі налаштовують обробку помилок, налаштовують ведення журналу,[виявити середовище програми](/docs/{{version}}/configuration#environment-configuration)та виконувати інші завдання, які потрібно виконати до того, як запит буде фактично оброблений.

Ядро HTTP також визначає список HTTP[Middlware](/docs/{{version}}/middleware)що всі запити повинні пройти перед тим, як їх оброблятиме програма. Ці проміжні програми обробляють читання та запис[HTTP-сесія](/docs/{{version}}/session), визначаючи, чи перебуває програма в режимі обслуговування,[перевірка маркера CSRF](/docs/{{version}}/csrf), і більше.

Підпис методу для ядра HTTP`handle`метод досить простий: отримати a`Request`і повернути a`Response`. Подумайте про ядро ​​як про великий чорний ящик, який представляє весь ваш додаток. Надайте йому HTTP-запити, і він поверне відповіді HTTP.

<a name="service-providers"></a>

#### Постачальники послуг

Однією з найважливіших дій завантаження ядра є завантаження[постачальників послуг](/docs/{{version}}/providers)для вашої заявки. Усі постачальники послуг для програми налаштовані в`config/app.php`файли конфігурації`providers`масив. По-перше,`register`метод буде застосовано до всіх провайдерів, тоді, як тільки всі провайдери будуть зареєстровані,`boot`буде викликаний метод.

Постачальники послуг відповідають за завантаження всіх різних компонентів фреймворку, таких як база даних, черга, перевірка та компоненти маршрутизації. Оскільки вони завантажуються та налаштовують кожну функцію, запропоновану фреймворком, постачальники послуг є найважливішим аспектом усього процесу завантаження Laravel.

<a name="dispatch-request"></a>

#### Запит на відправлення

Після завантаження програми та реєстрації всіх постачальників послуг,`Request`буде передано маршрутизатору для відправки. Маршрутизатор надішле запит до маршруту або контролера, а також запустить будь-яке Middlware, специфічне для маршруту.

<a name="focus-on-service-providers"></a>

## Зосередьтеся на постачальниках послуг

Постачальники послуг - справді ключ до завантаження програми Laravel. Екземпляр програми створюється, постачальники послуг реєструються і запит передається завантаженій програмі. Це справді так просто!

Тверде розуміння того, як додаток Laravel будується та завантажується через постачальників послуг, є дуже цінним. Постачальники послуг вашої програми за замовчуванням зберігаються в`app/Providers`каталог.

За замовчуванням`AppServiceProvider`досить порожній. Цей постачальник - чудове місце, щоб додати власну програму завантаження та прив’язку контейнерів служб. Для великих програм ви можете створити декілька постачальників послуг, кожен із більш детального типу завантаження.
